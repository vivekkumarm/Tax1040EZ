<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.4" DspName="Microsoft.Data.Tools.Schema.Sql.Sql100DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="100" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="TAX1040_Return_2014.dll" />
			<Metadata Name="FileName" Value="E:\TAX1040EZ\TAX1040LATEST\JEEVAN1040\FEATURE\DBSTORE\TAX1040_RETURN_2014\OBJ\DEBUG\TAX1040_RETURN_2014.DLL" />
			<Metadata Name="AssemblyName" Value="TAX1040_Return_2014" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="E:\Tax1040EZ\Tax1040Latest\Jeevan1040\Feature\DBStore\TAX1040_Return_2014\obj\Debug\TAX1040_Return_2014.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_feature]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[user_feature].[is_deleted]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="3" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_feature]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[user_feature].[create_timestamp]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_feature]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[user_feature].[update_timestamp]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[shopping_cart].[is_deleted]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[shopping_cart].[create_timestamp]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[shopping_cart].[update_timestamp]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_detail_mapper]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[is_deleted]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_detail_mapper]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[create_timestamp]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_detail_mapper]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[update_timestamp]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(1)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order].[processed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order].[is_deleted]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order].[create_timestamp]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order].[update_timestamp]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_billing_address]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order_billing_address].[is_deleted]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_billing_address]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order_billing_address].[create_datetime]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="17" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_billing_address]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[order_billing_address].[update_datetime]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="18" />
		</Element>
		<Element Type="SqlUniqueConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[user_data].[user_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="19" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_user_data_create_datetime]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[user_data].[create_datetime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_user_data_is_deleted]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[user_data].[is_deleted]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_user_data_upate_datetime]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[user_data].[upate_datetime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_federal_user_data_id]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[user_feature].[user_data_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_feature]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[user_data].[user_data_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="20" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_order_billing_address_order]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[order_billing_address].[order_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_billing_address]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[order].[order_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="21" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_order_detail_mapper_shopping_cart]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[shopping_cart_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_detail_mapper]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[shopping_cart].[shopping_cart_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="22" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_order_shopping_cart]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[order].[shopping_cart_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[shopping_cart].[shopping_cart_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="23" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[fk_order_user_data]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[order].[user_data_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[user_data].[user_data_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="24" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_shopping_cart_user_data]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[shopping_cart].[user_data_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[user_data].[user_data_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="25" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[order]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[order_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[user_data_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[shopping_cart_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[order_amount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="22" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[card_number]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[cardtype_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[card_expires]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[processed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="12" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[time]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[o_authorization]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[ip_address]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[is_deleted]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="13" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[create_timestamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="14" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order].[update_timestamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="26" />
						<AttachedAnnotation Disambiguator="15" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="23" />
			<AttachedAnnotation Disambiguator="24" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[order_billing_address]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[order_billing_address_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[order_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[email]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[street_address]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="60" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[apartment_number]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="5" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[city]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[state_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[country_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[phone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[postcode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[is_deleted]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="16" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[create_datetime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="17" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_billing_address].[update_datetime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="27" />
						<AttachedAnnotation Disambiguator="18" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="21" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[order_detail_mapper]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_detail_mapper].[order_detail_mapper_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_detail_mapper].[shopping_cart_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_detail_mapper].[sku_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_detail_mapper].[sku_price]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[numeric]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_detail_mapper].[state_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_detail_mapper].[is_deleted]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="9" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_detail_mapper].[create_timestamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="10" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[order_detail_mapper].[update_timestamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="28" />
						<AttachedAnnotation Disambiguator="11" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="22" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[pk_order]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[order].[order_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="26" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[pk_order_detail_mapper]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[order_detail_mapper].[order_detail_mapper_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_detail_mapper]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="28" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[pk_orderbillingaddres]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[order_billing_address].[order_billing_address_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[order_billing_address]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="27" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[pk_shopping_cart]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[shopping_cart].[shopping_cart_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="29" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_user_data]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[user_data].[user_data_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="30" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[shopping_cart]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[shopping_cart].[shopping_cart_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[shopping_cart].[user_data_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[shopping_cart].[product_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[shopping_cart].[is_deleted]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="6" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[shopping_cart].[create_timestamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[shopping_cart].[update_timestamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="29" />
						<AttachedAnnotation Disambiguator="8" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="25" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[user_data]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[user_data_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[user_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="19" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[session_data]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[tax_data]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[history_data]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[session_terminate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[create_datetime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[upate_datetime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_data].[is_deleted]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="30" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[user_feature]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_feature].[user_feature_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_feature].[user_data_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_feature].[federal_feature_sku_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_feature].[state_feature_sku_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_feature].[is_deleted]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="3" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_feature].[create_timestamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[user_feature].[update_timestamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="20" />
						<AttachedAnnotation Disambiguator="5" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_get_order_amount_by_shopping_cart_id]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
		BEGIN
			--SELECT SUM(sku_price) order_amount FROM  [dbo].[order_detail_mapper] WITH(NOLOCK)
			--WHERE [shopping_cart_id] = @shopping_cart_id
			--	AND [is_deleted] = 0
			
			SELECT SUM(price) AS price FROM 
			(SELECT SUM(ff.[federal_price]) AS price 
			FROM [dbo].[user_feature]  AS uf WITH(NOLOCK)
				INNER JOIN [dbo].[federal_feature_sku] ff
					on uf.[federal_feature_sku_id] = ff.[feature_id]
				INNER JOIN [dbo].[feature] f
					on f.[feature_id] = ff.[federal_feature_sku_id]
					where ff.[product_id] =  @product_id
						AND uf.[user_data_id] = @user_data_id
			UNION			
			SELECT SUM(sf.[state_price]) AS price FROM [dbo].[user_feature] AS uf
				INNER JOIN [dbo].[state_feature_sku] sf
					on uf.[state_feature_sku_id] = sf.[state_feature_sku_id]
				INNER JOIN [dbo].[feature] f
					on f.[feature_id] = sf.[feature_id]
			WHERE sf.[product_id] =  @product_id
				AND uf.[user_data_id] = @user_data_id	)order_price 		
			
			
		END
	SET NOCOUNT OFF;	
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[user_feature]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[user_feature].[federal_feature_sku_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[usp_get_order_amount_by_shopping_cart_id].[@product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_feature].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_get_order_amount_by_shopping_cart_id].[@user_data_id]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[user_feature].[state_feature_sku_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[user_feature].[user_data_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_get_order_amount_by_shopping_cart_id].[@product_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_get_order_amount_by_shopping_cart_id].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="384" />
				<Property Name="Length" Value="1526" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*********************************************************************************************&#xD;&#xA;Created by Ashok Kumar - 21st May, 2014 -  Get Order Amount  based on Shopping Cart ID.  &#xD;&#xA;*********************************************************************************************/&#xD;&#xA;/* Modification History */&#xD;&#xA;/* 07Jul2014 Sathish return total sum of price for federal and state */&#xD;&#xA;CREATE PROCEDURE [dbo].[usp_get_order_amount_by_shopping_cart_id]&#xD;&#xA;@product_id BIGINT,&#xD;&#xA;@user_data_id BIGINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_get_user_data_id_by_user_id]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
SET NOCOUNT ON;
IF EXISTS(SELECT 1 FROM [dbo].[user_data] WITH(NOLOCK) 
			WHERE [user_id]=@user_id 
			  AND [is_deleted] = 0)
BEGIN
	SELECT [user_data_id] FROM [dbo].[user_data] WITH(NOLOCK) 
			WHERE [user_id]=@user_id 
			  AND [is_deleted] = 0
END    
ELSE
BEGIN
	SELECT CAST(0 AS BIGINT) AS 'user_data_id'
END	
SET NOCOUNT OFF;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_get_user_data_id_by_user_id].[@user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[is_deleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[is_deleted]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_get_user_data_id_by_user_id].[@user_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="320" />
				<Property Name="Length" Value="757" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*******************************************************************************&#xD;&#xA;Created by Balasubramanian - 2 April 2014 - Procedure for get user_data_id column from [user_data] table by user_id column&#xD;&#xA;/* Modification History*/ &#xD;&#xA;********************************************************************************/   &#xD;&#xA;CREATE PROCEDURE [dbo].[usp_get_user_data_id_by_user_id]&#xD;&#xA;@user_id BIGINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_get_user_feature_sku]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
		BEGIN
			SELECT 0 AS [federal_id],
				   'Federal' AS [federal], 
				   SUM([federal_feature].[federal_price]) AS [federal_price] 
			FROM (SELECT f.[feature_name],f.[description],ff.[federal_price] FROM [dbo].[user_feature]  AS uf WITH(NOLOCK)
				INNER JOIN [dbo].[federal_feature_sku] ff
					on uf.[federal_feature_sku_id] = ff.[feature_id]
				INNER JOIN [dbo].[feature] f
					on f.[feature_id] = ff.[federal_feature_sku_id]
					where ff.[product_id] =  @product_id
						AND uf.user_data_id = @user_data_id ) federal_feature
					

		SELECT [state_feature].[state_id],
					s.[state_name],
					SUM([state_feature].[state_price]) as state_price 
			FROM (SELECT f.[feature_name],f.[description],sf.[state_id],sf.[state_price] FROM [dbo].[user_feature] AS uf
				INNER JOIN [dbo].[state_feature_sku] sf
					on uf.[state_feature_sku_id] = sf.[state_feature_sku_id]
				INNER JOIN [dbo].[feature] f
					on f.[feature_id] = sf.[feature_id]
			WHERE sf.[product_id] =  @product_id
				AND uf.user_data_id = @user_data_id ) [state_feature]
			INNER JOIN [state] AS s
				on s.[state_id] = [state_feature].[state_id]
			GROUP BY [state_feature].[state_id],s.[state_name]
			
		END
	SET NOCOUNT OFF;	
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[user_feature]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[user_feature].[federal_feature_sku_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[usp_get_user_feature_sku].[@product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_feature].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_get_user_feature_sku].[@user_data_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[user_feature].[state_feature_sku_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[user_feature].[user_data_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_get_user_feature_sku].[@product_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_get_user_feature_sku].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="274" />
				<Property Name="Length" Value="1632" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*********************************************************************************************&#xD;&#xA;Created by Sathish - 4Jul2014 get user order &#xD;&#xA;*********************************************************************************************/&#xD;&#xA;/* Modification History */&#xD;&#xA;/* */&#xD;&#xA;CREATE PROCEDURE dbo.usp_get_user_feature_sku&#xD;&#xA;@product_id BIGINT,&#xD;&#xA;@user_data_id BIGINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_is_order_exist_by_user_data_id]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN 
	SET NOCOUNT ON;

		IF EXISTS(SELECT 1 FROM [dbo].[shopping_cart] WITH(NOLOCK) 
			WHERE [user_data_id]=@user_data_id
			AND [product_id] = @product_id
			AND [is_deleted] = 1)
		BEGIN
			SELECT CAST(1 AS BIT) AS [is_order_exist] 
		END
		ELSE
		BEGIN
			SELECT CAST(0 AS BIT) AS [is_order_exist] 
		END
	SET NOCOUNT OFF;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_is_order_exist_by_user_data_id].[@user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_is_order_exist_by_user_data_id].[@product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[is_deleted]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_is_order_exist_by_user_data_id].[@product_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_is_order_exist_by_user_data_id].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="285" />
				<Property Name="Length" Value="740" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*************************************************************************************************&#xD;&#xA;Created by Sathish on 18Jul2014 procedure check weather order exist for the user&#xD;&#xA;**************************************************************************************************/&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[usp_is_order_exist_by_user_data_id]&#xD;&#xA;@product_id BIGINT,&#xD;&#xA;@user_data_id BIGINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_order_and_order_billing_address_persist]">
			<Property Name="BodyScript">
				<Value><![CDATA[

BEGIN

SET NOCOUNT ON;
BEGIN TRANSACTION
DECLARE @order_identity BIGINT
    
         INSERT INTO [dbo].[order]
         ( 
				[user_data_id],
				[shopping_cart_id],
				[order_amount],
				[card_number] ,
				[cardtype_id] ,
				[card_expires],
				[processed] ,
				[time] ,
				[o_authorization] ,
				[ip_address] ,
				[is_deleted] ,
				[create_timestamp],
				[update_timestamp]
          )
          
		  VALUES
          (
				@user_data_id,
				@shopping_cart_id ,
				@order_amount ,
				@card_number ,
				@cardtype_id ,
				@card_expires ,
				@processed ,
				@time ,
				@o_authorization ,
				@ip_address ,
				0,
				GETDATE(),
				GETDATE()
          )

	SET @order_identity=@@IDENTITY   
             
            INSERT INTO [dbo].[order_billing_address]
            (
                [order_id] ,
				[name] ,
				[email] ,
				[street_address] ,
				[apartment_number],
				[city] ,
				[state_name] ,
				[country_name] ,
				[phone] ,
				[postcode] ,
				[is_deleted] ,
				[create_datetime] ,
				[update_datetime] 
            )
            VALUES
            (           
				@order_identity,
				@name ,
				@email,
				@street_address,
				@apartment_number,
				@city ,
				@state_name,
				@country_name ,
				@phone ,
				@postcode,
				0,
				GETDATE(),
				GETDATE()
            )

			 UPDATE [dbo].[order_detail_mapper] SET [is_deleted] = 1
			 WHERE [shopping_cart_id] = @shopping_cart_id

			 UPDATE [dbo].[shopping_cart] SET [is_deleted] = 1
			 WHERE [shopping_cart_id] = @shopping_cart_id
                 
			 SELECT @order_identity

      IF @@ERROR = 0
        COMMIT TRANSACTION
      ELSE
        ROLLBACK TRANSACTION

SET NOCOUNT OFF;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[shopping_cart_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[order_amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[card_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[cardtype_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[card_expires]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[processed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[o_authorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[ip_address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[is_deleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[create_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[update_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@shopping_cart_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@order_amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@card_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@cardtype_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@card_expires]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@processed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@o_authorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@ip_address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[street_address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[apartment_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[city]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[state_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[country_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[postcode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[is_deleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[create_datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[update_datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@street_address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@apartment_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@city]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@state_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@country_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_and_order_billing_address_persist].[@postcode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_detail_mapper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[is_deleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[shopping_cart_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[is_deleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[shopping_cart_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@shopping_cart_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@order_amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="22" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[numeric]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@card_number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@cardtype_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@card_expires]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@processed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@o_authorization]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@ip_address]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@street_address]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@apartment_number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="5" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@city]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@state_name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@country_name]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@phone]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_and_order_billing_address_persist].[@postcode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="330" />
				<Property Name="Length" Value="2649" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*********************************************************************************************&#xD;&#xA;Created by Ashok Kumar - 16th May, 2014 -  Persist Order and Order Billing Address records into DB.  &#xD;&#xA;*********************************************************************************************/&#xD;&#xA;/*Modification History*/&#xD;&#xA;/* */&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE usp_order_and_order_billing_address_persist&#xD;&#xA;@user_data_id BIGINT,&#xD;&#xA;@shopping_cart_id BIGINT,&#xD;&#xA;@order_amount NUMERIC(22,2),&#xD;&#xA;@card_number VARCHAR(50),&#xD;&#xA;@cardtype_id INT,&#xD;&#xA;@card_expires VARCHAR(10),&#xD;&#xA;@processed BIT,&#xD;&#xA;@time DATETIME,&#xD;&#xA;@o_authorization VARCHAR(50),&#xD;&#xA;@ip_address VARCHAR(50),&#xD;&#xA;@name VARCHAR(50),&#xD;&#xA;@email VARCHAR(50),&#xD;&#xA;@street_address VARCHAR(50),&#xD;&#xA;@apartment_number NVARCHAR(5),&#xD;&#xA;@city VARCHAR(20),&#xD;&#xA;@state_name VARCHAR(20),&#xD;&#xA;@country_name VARCHAR(20) = null,&#xD;&#xA;@phone VARCHAR(20),&#xD;&#xA;@postcode VARCHAR(20)&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_order_get_by_order_id]">
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
SET NOCOUNT ON;

	SELECT	o.[order_id],
			o.[user_data_id],
            o.[shopping_cart_id],
            o.[order_amount],
            o.[card_number] ,
            o.[cardtype_id] ,
            o.[card_expires],
            o.[processed] ,
            o.[time] ,
            o.[o_authorization] ,
            o.[ip_address] ,
            ob.[name] ,
            ob.[email] ,
            ob.[street_address] ,
			ob.[apartment_number],
            ob.[city] ,
            ob.[state_name] ,
            ob.[country_name] ,
            ob.[phone] ,
            ob.[postcode]
    FROM [dbo].[order] o WITH(NOLOCK)
    INNER JOIN [dbo].[order_billing_address] ob 
				ON o.[order_id]=ob.[order_id]
    WHERE o.[order_id]=@order_id

	 SELECT
		odm.[sku_id],
		ps.[sku_name],
		ps.[sku_description],
		odm.[sku_price],
		odm.[state_id]
	FROM
		[dbo].[order_detail_mapper] odm 
		INNER JOIN [dbo].[shopping_cart] sc on odm.[shopping_cart_id]=sc.[shopping_cart_id]
		INNER JOIN [dbo].[order] o on o.[shopping_cart_id]=sc.[shopping_cart_id]
		INNER JOIN [dbo].[product_sku] ps on ps.[sku_id]=odm.[sku_id] 
	WHERE o.[order_id]=@order_id

SET NOCOUNT OFF;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[shopping_cart_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[order_amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[card_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[cardtype_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[card_expires]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[processed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[o_authorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[ip_address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[street_address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[apartment_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[city]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[state_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[country_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_billing_address].[postcode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_order_get_by_order_id].[@order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_detail_mapper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[shopping_cart_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[shopping_cart_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[shopping_cart_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[shopping_cart_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[sku_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[sku_price]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order_detail_mapper].[state_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[order].[order_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_order_get_by_order_id].[@order_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="301" />
				<Property Name="Length" Value="1565" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*********************************************************************************************&#xD;&#xA;Created by Ashok Kumar - 16th May, 2014 -  Get Order against order Id.  &#xD;&#xA;*********************************************************************************************/&#xD;&#xA;/*Modification History*/&#xD;&#xA;/* */&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE usp_order_get_by_order_id&#xD;&#xA;@order_id BIGINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_persist_user_feature]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
		BEGIN
			IF NOT EXISTS( SELECT [user_data_id] FROM [dbo].[user_feature]
							WHERE [user_data_id] = @user_data_id)
			BEGIN
					INSERT INTO [dbo].[user_feature]([user_data_id],[federal_feature_sku_id])
							(SELECT @user_data_id,
								  [federal_feature_sku_id] 
							FROM [dbo].[federal_feature_sku] WITH(NOLOCK)
							WHERE [product_id] = @product_id)		
					
					INSERT INTO [dbo].[user_feature]([user_data_id],[state_feature_sku_id])
								(SELECT  @user_data_id,
										[state_feature_sku_id] 
								FROM [dbo].[state_feature_sku] WITH(NOLOCK)
								WHERE [product_id] = @product_id)
			END
		
		END
	SET NOCOUNT OFF;	
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[user_feature]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_feature].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_persist_user_feature].[@user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_feature].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_feature].[federal_feature_sku_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[usp_persist_user_feature].[@product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_feature].[state_feature_sku_id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_persist_user_feature].[@product_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_persist_user_feature].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="281" />
				<Property Name="Length" Value="1073" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;/*********************************************************************************************&#xD;&#xA;Created by Sathish - 15July2014 -  Persist User feature  &#xD;&#xA;*********************************************************************************************/&#xD;&#xA;/* Modification History */&#xD;&#xA;CREATE PROCEDURE [dbo].[usp_persist_user_feature]&#xD;&#xA;@product_id BIGINT,&#xD;&#xA;@user_data_id BIGINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_session_data_persist]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	BEGIN TRANSACTION

		UPDATE [dbo].[user_data]
		SET 
           [session_data]=@session_data, [upate_datetime]=GETDATE()
		WHERE 
			([user_id]=@user_id AND [user_data_id]=@user_data_id AND [is_deleted] = 0)

	IF @@ERROR = 0
		COMMIT TRANSACTION
	ELSE
		ROLLBACK TRANSACTION
	SET NOCOUNT OFF;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[session_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_session_data_persist].[@session_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[upate_datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_session_data_persist].[@user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_session_data_persist].[@user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[is_deleted]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_session_data_persist].[@user_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_session_data_persist].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_session_data_persist].[@session_data]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="241" />
				<Property Name="Length" Value="703" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*******************************************************************************&#xD;&#xA;Created by Saravanan N - 15th April, 2014 - Persist SessionData into DB.&#xD;&#xA;********************************************************************************/&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[usp_session_data_persist]&#xD;&#xA;&#x9;@user_id BIGINT,&#xD;&#xA;&#x9;@user_data_id BIGINT,&#xD;&#xA;&#x9;@session_data VARCHAR(300)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_shopping_cart_and_order_detail_mapper_persist]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
SET NOCOUNT ON;
          
          DECLARE @Shopping_Identity BIGINT

           INSERT INTO [dbo].[shopping_cart]
            (
            [user_data_id],
            [product_id],  
            [is_deleted] ,
            [create_timestamp],
            [update_timestamp]
            )
            VALUES
            (  
            @user_data_id,
            @product_id,
            0,
            GETDATE(),
            GETDATE()
            )
           SELECT @Shopping_Identity=@@IDENTITY
           
           --CREATE TABLE #temp(sku_id BIGINT ,sku_price NUMERIC(15, 2),state_id BIGINT,sku_description [VARCHAR](100),[sku_name] [VARCHAR](50))
           
           --INSERT INTO #temp(sku_id,sku_name,sku_description,sku_price,state_id)
           
           --EXECUTE [dbo].[usp_get_all_productsku_by_product_id_and_state_ids] @product_id,@state_ids
           
           --INSERT INTO [dbo].[order_detail_mapper]
           -- (
           --  [shopping_cart_id],
           --  [sku_id],
           --  [sku_price],
           --  [state_id],
           --  [is_deleted],
           --  [create_timestamp],
           --  [update_timestamp]
           -- )
           -- SELECT @Shopping_Identity,[sku_id],[sku_price],[state_id],0,GETDATE(),GETDATE()
           -- FROM #temp 
            
           -- DROP TABLE #temp
            
           SELECT @Shopping_Identity AS shopping_cart_id

SET NOCOUNT OFF;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[is_deleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[create_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[shopping_cart].[update_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_shopping_cart_and_order_detail_mapper_persist].[@user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_shopping_cart_and_order_detail_mapper_persist].[@product_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_shopping_cart_and_order_detail_mapper_persist].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_shopping_cart_and_order_detail_mapper_persist].[@product_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="380" />
				<Property Name="Length" Value="1996" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;/*********************************************************************************************&#xD;&#xA;Created by Ashok Kumar – 3rd June, 2014 -  Get Product Sku based on Product ID and State IDS.  &#xD;&#xA;*********************************************************************************************/&#xD;&#xA;/* Modification History */&#xD;&#xA;/* 07Jul2014 Sathish commented order detail mapper persit*/&#xD;&#xA;CREATE PROCEDURE [dbo].[usp_shopping_cart_and_order_detail_mapper_persist]&#xD;&#xA;(&#xD;&#xA;&#x9;@user_data_id BIGINT,&#xD;&#xA;&#x9;@product_id BIGINT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_user_data_get_by_user_data_id]">
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
SET NOCOUNT ON;

    SELECT 
		[user_id],
		[session_data],
		[tax_data],
		[history_data],
		[session_terminate],
		[create_datetime],
		[upate_datetime],
		[is_deleted]
    FROM  [dbo].[user_data] WITH(NOLOCK)
    WHERE [user_data_id]=@user_data_id and [user_id]=@user_id and [is_deleted]=0
   
SET NOCOUNT OFF;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[session_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[tax_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[history_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[session_terminate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[create_datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[upate_datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[is_deleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_user_data_get_by_user_data_id].[@user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_user_data_get_by_user_data_id].[@user_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_user_data_get_by_user_data_id].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_user_data_get_by_user_data_id].[@user_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="442" />
				<Property Name="Length" Value="886" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/****************************************************************************************&#xD;&#xA;Author          : Ashok Kumar - &#xD;&#xA;Created Date    : 17th March, 2014&#xD;&#xA;Description     : Retrieving User data by use_data_id from DB.&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;     Date                 Name                         Summary&#xD;&#xA;    -----                ------                       ---------&#xD;&#xA;18th March, 2014        Ashok Kumar        Added @user_id as input parameter&#xD;&#xA;*/&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[usp_user_data_get_by_user_data_id]&#xD;&#xA;@user_data_id BIGINT,&#xD;&#xA;@user_id BIGINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[usp_user_data_persist]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
SET NOCOUNT ON;
 
   IF @user_data_id=0
    
     BEGIN
     
        INSERT INTO [dbo].[user_data]
        (
			[user_id],
			[session_data],
			[tax_data],
			[history_data]
        )
        VALUES
        (
        @user_id,
        @session_data,
        @tax_data,
        @history_data
        )
        
       SELECT @@IDENTITY AS 'user_data_id'
    
     END
   ELSE
     BEGIN
      
       UPDATE [dbo].[user_data]
       SET [user_id]=@user_id,
           [session_data]=@session_data,
           [tax_data]=@tax_data,
           [history_data]=@history_data,
           [upate_datetime]=GETDATE()
       WHERE [user_data_id]=@user_data_id

      SELECT @user_data_id AS 'user_data_id'
     
     END

SET NOCOUNT OFF;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[usp_user_data_persist].[@user_data_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[session_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[tax_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[history_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_user_data_persist].[@user_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_user_data_persist].[@session_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_user_data_persist].[@tax_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[usp_user_data_persist].[@history_data]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[upate_datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[user_data].[user_data_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_user_data_persist].[@user_data_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_user_data_persist].[@user_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_user_data_persist].[@session_data]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_user_data_persist].[@tax_data]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[usp_user_data_persist].[@history_data]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="517" />
				<Property Name="Length" Value="1464" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*******************************************************************************&#xD;&#xA;Author          : Ashok Kumar - &#xD;&#xA;Created Date    : 17th March, 2014&#xD;&#xA;Description     : Persisting User data records into DB.&#xD;&#xA;&#xD;&#xA;     Date                 Name                         Summary&#xD;&#xA;    -----                ------                       ---------&#xD;&#xA;18th March, 2014        Ashok Kumar        Removed @session_terminate as input parameter&#xD;&#xA;26th March, 2014        Ashok Kumar        Added where condtion to Update section&#xD;&#xA;*/&#xD;&#xA;CREATE PROCEDURE [dbo].[usp_user_data_persist]&#xD;&#xA;@user_data_id BIGINT,&#xD;&#xA;@user_id BIGINT,&#xD;&#xA;@session_data TEXT = NULL,&#xD;&#xA;@tax_data TEXT,&#xD;&#xA;@history_data TEXT = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
	</Model>
</DataSchemaModel>